<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Mini Royale</title>
<style>
body {
  background:#121212;
  color:white;
  font-family:Arial;
  text-align:center;
}

#arena {
  position:relative;
  width:700px;
  height:300px;
  margin:auto;
  background:#2a2a4a;
  border:4px solid white;
}

.tower {
  position:absolute;
  width:50px;
  height:120px;
  top:90px;
}

#playerTower { left:10px; background:green; }
#enemyTower { right:10px; background:red; }

.hp {
  position:absolute;
  top:-10px;
  width:50px;
  height:6px;
  background:darkred;
}
.hp-inner {
  height:100%;
  background:lime;
}

.troop {
  position:absolute;
  width:20px;
  height:20px;
  top:140px;
}

.player { background:yellow; }
.enemy { background:orange; }

#ui {
  margin-top:10px;
}

.card {
  padding:10px;
  margin:5px;
  font-size:14px;
  cursor:pointer;
}

#elixir {
  width:200px;
  height:10px;
  background:#555;
  margin:10px auto;
}
#elixirFill {
  height:100%;
  background:purple;
  width:100%;
}
</style>
</head>

<body>

<h1>‚öîÔ∏è Mini Royale</h1>

<div id="arena">
  <div id="playerTower" class="tower">
    <div class="hp"><div id="pHP" class="hp-inner"></div></div>
  </div>
  <div id="enemyTower" class="tower">
    <div class="hp"><div id="eHP" class="hp-inner"></div></div>
  </div>
</div>

<div id="elixir"><div id="elixirFill"></div></div>

<div id="ui">
  <button class="card" onclick="spawn('knight')">üó°Ô∏è Knight (3)</button>
  <button class="card" onclick="spawn('fast')">‚ö° Runner (2)</button>
  <button class="card" onclick="spawn('tank')">üõ°Ô∏è Tank (5)</button>
</div>

<script>
let elixir = 10;
let playerTowerHP = 100;
let enemyTowerHP = 100;

const troops = {
  knight: {hp:30, dmg:5, speed:2, cost:3},
  fast: {hp:15, dmg:3, speed:4, cost:2},
  tank: {hp:60, dmg:4, speed:1, cost:5}
};

function updateUI(){
  document.getElementById("elixirFill").style.width = (elixir*10)+"%";
  document.getElementById("pHP").style.width = playerTowerHP+"%";
  document.getElementById("eHP").style.width = enemyTowerHP+"%";
}

function spawn(type){
  if(elixir < troops[type].cost) return;
  elixir -= troops[type].cost;
  createTroop(type,"player",70);
}

function createTroop(type,team,x){
  const t = document.createElement("div");
  t.className = `troop ${team}`;
  t.style.left = x+"px";
  document.getElementById("arena").appendChild(t);

  let stats = {...troops[type]};
  let pos = x;

  const move = setInterval(()=>{
    pos += (team==="player"?stats.speed:-stats.speed);
    t.style.left = pos+"px";

    if(team==="player" && pos>600){
      enemyTowerHP -= stats.dmg;
      t.remove(); clearInterval(move);
      checkWin();
    }
    if(team==="enemy" && pos<50){
      playerTowerHP -= stats.dmg;
      t.remove(); clearInterval(move);
      checkWin();
    }
  },30);
}

function checkWin(){
  updateUI();
  if(enemyTowerHP<=0){
    alert("üéâ YOU WIN!");
    location.reload();
  }
  if(playerTowerHP<=0){
    alert("üíÄ YOU LOSE!");
    location.reload();
  }
}

// Elixir regen
setInterval(()=>{
  if(elixir<10) elixir++;
  updateUI();
},1000);

// Enemy AI
setInterval(()=>{
  const types = ["knight","fast","tank"];
  const choice = types[Math.floor(Math.random()*types.length)];
  createTroop(choice,"enemy",610);
},3000);

updateUI();
</script>

</body>
</html>
